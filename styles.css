:root{
  --bg0:#06090f;
  --bg1:#0d1526;
  --surface:rgba(255,255,255,.08);
  --surface2:rgba(255,255,255,.13);
  --text:#f0f6ff;
  --muted:rgba(240,246,255,.58);
  --line:rgba(255,255,255,.11);
  --accent:#007AFF;
  --accent2:#34aadc;
  --shadow:0 24px 64px rgba(0,0,0,.50), 0 4px 16px rgba(0,0,0,.22);
  --radius:22px;
  --radius2:16px;
  --blur:44px;

  /* Spacing */
  --space-xs:4px;
  --space-sm:8px;
  --space-md:12px;
  --space-lg:16px;
  --space-xl:24px;
}

[data-theme="light"]{
  --bg0:#eef4fb;
  --bg1:#e2edfa;
  --surface:rgba(255,255,255,.58);
  --surface2:rgba(255,255,255,.76);
  --text:#0b1220;
  --muted:rgba(11,18,32,.55);
  --line:rgba(11,18,32,.08);
  --shadow:0 20px 60px rgba(10,30,100,.14), 0 4px 12px rgba(10,30,100,.07);
}

/* Light-Mode-Overrides für Elemente mit hardcodierten rgba(255,255,255,…) */
[data-theme="light"] .select,
[data-theme="light"] .dayBtn,
[data-theme="light"] .chip {
  background:rgba(0,0,0,.06);
}

[data-theme="light"] .card.surface{
  border-top-color:rgba(255,255,255,.85);
}

[data-theme="light"] .countdown,
[data-theme="light"] .stat,
[data-theme="light"] .listItem {
  background:rgba(0,0,0,.04);
}

[data-theme="light"] .installBannerClose {
  background:rgba(0,0,0,.05);
}

[data-theme="light"] .installStep {
  background:rgba(0,0,0,.035);
}

[data-theme="light"] .installStep:hover {
  background:rgba(0,0,0,.05);
}

[data-theme="light"] .calCell:hover {
  background:rgba(0,0,0,.05);
}

/* Base Styles */
*{
  box-sizing:border-box;
}

html,body{
  height:100%;
  margin:0;
}

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(1000px 700px at 20% 10%, rgba(0,122,255,.28), transparent 60%),
    radial-gradient(900px 700px at 80% 20%, rgba(52,170,220,.18), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  /* Verhindert Flash beim Theme-Wechsel */
  transition: background 180ms ease;
}

/* Accessibility */
.skip{
  position:absolute;
  left:-9999px;
  top:10px;
  background:var(--accent);
  color:white;
  padding:10px 12px;
  border-radius:14px;
  z-index:999;
  font-weight:600;
  text-decoration:none;
}
.skip:focus{
  left:12px;
}

/* Focus Styles */
button:focus-visible,
a:focus-visible,
select:focus-visible{
  outline:3px solid var(--accent);
  outline-offset:2px;
}

/* Header / Topbar */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px;
  background:linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,0));
  backdrop-filter:blur(32px) saturate(180%);
  -webkit-backdrop-filter:blur(32px) saturate(180%);
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0; /* Ermöglicht text-overflow */
}

.logo{
  width:44px;
  height:44px;
  min-width:44px; /* Verhindert Schrumpfen */
  min-height:44px;
  border-radius:16px;
  display:grid;
  place-items:center;
  overflow:hidden;
  background:linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow:0 10px 30px rgba(0,122,255,.35);
  flex-shrink:0;
}

.logoImg{
  width:44px;
  height:44px;
  max-width:44px;
  max-height:44px;
  object-fit:contain;
  display:block;
}

.brandText{
  min-width:0;
}

.brandTitle{
  font-weight:750;
  font-size:15px;
  line-height:1.1;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.brandSub{
  font-size:12px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.topActions{
  display:flex;
  gap:10px;
}

/* Shared Surface Style – Apple Liquid Glass */
.surface{
  border:1px solid var(--line);
  background:var(--surface);
  box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.16);
  backdrop-filter:blur(var(--blur)) saturate(180%);
  -webkit-backdrop-filter:blur(var(--blur)) saturate(180%);
}

/* Icon Button */
.iconBtn{
  appearance:none;
  cursor:pointer;
  width:44px;
  height:44px;
  border-radius:16px;
  color:var(--text);
  display:grid;
  place-items:center;
  transition:transform 80ms ease;
}

.iconBtn:active{
  transform:translateY(1px);
}

.iconBtn .icon{
  font-size:20px;
}

/* Navigation */
.nav{
  position:sticky;
  top:74px;
  z-index:40;
  display:flex;
  gap:10px;
  padding:10px 12px 12px;
  justify-content:space-between;
}

.navItem{
  appearance:none;
  cursor:pointer;
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  padding:10px 8px;
  border-radius:16px;
  color:var(--text);
  transition:all 120ms ease;
  font-size:13px;
  font-weight:600;
}

.navIcon{
  width:22px;
  height:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:.9;
}

.navItem[aria-current="page"]{
  border-color:rgba(0,122,255,.55);
  box-shadow:0 0 0 4px rgba(0,122,255,.18);
  background:rgba(0,122,255,.10);
}

.navItem:hover:not([aria-current="page"]){
  background:rgba(255,255,255,.04);
}

/* Main Layout */
.main{
  padding:0 12px 26px;
  max-width:980px;
  margin:0 auto;
}

.view{
  padding-top:10px;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.view[hidden]{
  display:none;
}

/* Cards */
.card{
  padding:16px;
  border-radius:var(--radius);
  position:relative;
}

.card.surface{
  border-top-color:rgba(255,255,255,.22);
}

/* Card Section Headings */
.card h2{
  margin:0 0 14px;
  font-size:18px;
  font-weight:800;
  letter-spacing:-.2px;
  display:flex;
  align-items:center;
  gap:10px;
}

.card h2::before{
  content:'';
  flex-shrink:0;
  display:block;
  width:3px;
  height:18px;
  background:linear-gradient(180deg, var(--accent), var(--accent2));
  border-radius:2px;
}

/* Hero Section */
.hero{
  display:grid;
  gap:16px;
}

.hero h1{
  margin:0 0 6px;
  font-size:26px;
  letter-spacing:-.2px;
  font-weight:800;
}

.muted{
  color:var(--muted);
}

/* Chips */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin:14px 0;
}

.chip{
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  font-weight:600;
}

/* Buttons */
.btn{
  appearance:none;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.12);
  background:linear-gradient(135deg, var(--accent), var(--accent2));
  color:white;
  padding:10px 14px;
  border-radius:16px;
  font-weight:650;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:transform 80ms ease;
  font-size:14px;
}

.btn.secondary{
  background:var(--surface2);
  color:var(--text);
  border:1px solid var(--line);
}

.btn:hover{
  transform:translateY(-1px);
}

.btn:active{
  transform:translateY(1px);
}

.btn:disabled{
  opacity:.5;
  cursor:not-allowed;
}

/* Hero Right */
.heroRight{
  position:relative;
  min-height:160px;
}

.glassBlob{
  position:absolute;
  inset:0;
  border-radius:var(--radius);
  background:
    radial-gradient(600px 300px at 30% 30%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(135deg, rgba(0,122,255,.22), rgba(52,170,220,.12));
  border:1px solid rgba(255,255,255,.16);
}

.stats{
  position:relative;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  padding:10px;
}

.stat{
  border-radius:16px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
  padding:12px;
  text-align:center;
}

.statNum{
  font-weight:800;
  font-size:18px;
}

.statLabel{
  font-size:12px;
  color:var(--muted);
  margin-top:2px;
}

/* Grid Layout */
.grid2{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
  margin-top:12px;
}

/* Network Indicator */
.netRow{
  display:flex;
  align-items:center;
  gap:8px;
  margin:6px 0 12px;
}

.netIndicator{
  width:10px;
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.25);
  border:1px solid var(--line);
  transition:background 200ms ease;
}

.netIndicator[data-status="online"]{
  background:rgba(60,255,145,.9);
  box-shadow:0 0 10px rgba(60,255,145,.4);
  animation:netPulse 2.5s ease-in-out infinite;
}

@keyframes netPulse{
  0%,100%{ box-shadow:0 0 8px rgba(60,255,145,.4); }
  50%{ box-shadow:0 0 18px rgba(60,255,145,.75); }
}

.netIndicator[data-status="offline"]{
  background:rgba(255,92,92,.95);
  box-shadow:0 0 10px rgba(255,92,92,.4);
}

/* Countdown */
.countdown{
  margin:10px 0 12px;
  padding:16px;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  display:grid;
  gap:12px;
}

.countdownTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.countdownTimeBlock{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.nowTime{
  font-weight:900;
  font-size:40px;
  letter-spacing:1px;
  font-variant-numeric:tabular-nums;
  line-height:1;
}

.countdownText{
  font-weight:700;
  font-size:13px;
  padding:7px 14px;
  border-radius:20px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;
  text-align:center;
  white-space:nowrap;
  box-shadow:0 4px 14px rgba(0,122,255,.35);
}

.countdownDivider{
  height:1px;
  background:var(--line);
}

.funMessage{
  font-size:15px;
  font-weight:600;
  color:var(--text);
}

/* List Items */
.list{
  display:grid;
  gap:10px;
  margin-top:10px;
}

.listItem{
  display:grid;
  grid-template-columns:88px 1fr auto;
  gap:10px;
  padding:10px;
  border-radius:16px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
}

.listItem.note{
  background:rgba(255,165,0,.10);
  border-left:3px solid #ffa500;
}

.time{
  font-weight:750;
  font-size:13px;
}

.timeFrom{
  font-weight:750;
  font-size:13px;
  line-height:1.2;
}

.tdTime{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.sub{
  color:var(--muted);
  font-size:12px;
  margin-top:2px;
}

.metaCol{
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:flex-end;
  text-align:right;
  gap:2px;
}

.listItem .subjectCol{
  display:flex;
  flex-direction:column;
  justify-content:center;
}

/* Install Card */
.installCard{
  display:grid;
  gap:14px;
}

.installHead{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}

.installHead h2{
  margin-bottom:8px;
}

.installBadge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:28px;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
  letter-spacing:.06em;
  text-transform:uppercase;
  color:#fff;
  background:linear-gradient(120deg, var(--accent), var(--accent2));
  box-shadow:0 8px 20px rgba(0,122,255,.3);
}

.installCtaRow{
  display:grid;
  gap:8px;
}

.installCtaRow .btn{
  width:fit-content;
}

.installCtaRow .btn[disabled]{
  opacity:.55;
  cursor:not-allowed;
  filter:saturate(.7);
}

.hint{
  color:var(--muted);
  font-size:12px;
  line-height:1.4;
}

/* Install Banner */
.installBanner{
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(0,122,255,.45);
  background:rgba(0,122,255,.10);
  display:flex;
  align-items:flex-start;
  gap:12px;
}

.installBannerText{
  font-size:12px;
  color:var(--text);
  line-height:1.35;
}

.installBannerClose{
  appearance:none;
  cursor:pointer;
  margin-left:auto;
  flex:0 0 auto;
  width:32px;
  height:32px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-size:18px;
  line-height:1;
  transition:transform 80ms ease;
}

.installBannerClose:active{
  transform:translateY(1px);
}

.installSteps{
  display:grid;
  gap:10px;
}

.installStep{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:12px;
  align-items:flex-start;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  transition:background 120ms ease, border-color 120ms ease;
}

.installStep:hover{
  background:rgba(255,255,255,.07);
  border-color:rgba(0,122,255,.38);
}

.installStepNumber{
  width:28px;
  height:28px;
  border-radius:10px;
  display:grid;
  place-items:center;
  font-size:12px;
  font-weight:800;
  color:#fff;
  background:linear-gradient(120deg, var(--accent), var(--accent2));
}

.installStep h3{
  margin:0;
  font-size:14px;
}

.installStep p{
  margin:4px 0 0;
  color:var(--muted);
  font-size:13px;
  line-height:1.45;
}

/* Controls */
.row{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:14px;
}

.wrap{
  flex-wrap:wrap;
}

.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:flex-end;
}

.control{
  display:grid;
  gap:6px;
}

.controlLabel{
  font-size:12px;
  color:var(--muted);
  font-weight:600;
}

.select{
  appearance:none;
  cursor:pointer;
  min-width:160px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-size:14px;
  font-weight:600;
}

.select:hover{
  background:rgba(255,255,255,.08);
}


.selectWrap{
  position:relative;
  display:inline-flex;
  width:132px;
}

.control--class .select{
  min-width:0;
  width:100%;
  padding-right:32px;
}

.selectWrap::after{
  content:"";
  position:absolute;
  right:12px;
  top:50%;
  width:8px;
  height:8px;
  border-right:2px solid var(--muted);
  border-bottom:2px solid var(--muted);
  transform:translateY(-65%) rotate(45deg);
  pointer-events:none;
}

/* Day Select Group */
.daySelectGroup{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.dayBtn{
  appearance:none;
  cursor:pointer;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  border-radius:16px;
  padding:10px 14px;
  font-weight:800;
  font-size:14px;
  min-width:48px;
  transition:all 120ms ease;
}

.dayBtn:hover:not([aria-pressed="true"]):not(.active){
  background:rgba(255,255,255,.08);
}

.dayBtn[aria-pressed="true"],
.dayBtn.active{
  border-color:rgba(0,122,255,.55);
  box-shadow:0 0 0 4px rgba(0,122,255,.18);
  background:rgba(0,122,255,.18);
}

.dayBtn:active{
  transform:translateY(1px);
}

/* Timetable */
.timetable{
  margin-top:14px;
  border-radius:16px;
  overflow:hidden;
  border:1px solid var(--line);
}

.timetableHeader,
.tr{
  display:grid;
  grid-template-columns:100px 1fr auto;
}

.tr{
  align-items:stretch;
}

.tr .td:nth-child(2){
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.tdMeta{
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:flex-end;
  gap:2px;
  text-align:right;
}

.tdMeta small:first-child{
  margin-top:0;
}

.tdMeta .muted{
  margin-top:auto;
}

.th,
.td{
  padding:10px 12px;
  border-bottom:1px solid var(--line);
  overflow:hidden;
  min-width:0;
  overflow-wrap:break-word;
  word-break:break-word;
}

.timetableHeader{
  background:rgba(255,255,255,.08);
  font-weight:750;
}

.timetableEmpty{
  padding:20px 16px;
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:12px;
  color:var(--muted);
  font-size:14px;
}

/* Tag-Auswahl-Zeile unter den Controls */
.dayRow{
  margin-top:10px;
}

/* ── Kalender ────────────────────────────────────────────────────────── */

.calCard{
  margin-top:0;
}

.calHeader{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:8px;
  flex-wrap:wrap;
  margin-bottom:12px;
}

.calToggles{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
}

.calToggle{
  display:flex;
  align-items:center;
  gap:5px;
  padding:4px 10px;
  border-radius:99px;
  border:1px solid var(--line);
  background:var(--surface2);
  color:var(--text);
  font-size:12px;
  font-weight:600;
  cursor:pointer;
  transition:opacity 150ms;
}
.calToggle[data-active="false"]{
  opacity:.4;
}

.calDot{
  width:8px;
  height:8px;
  border-radius:50%;
  flex-shrink:0;
}

.calNav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
}

.calNavBtn{
  width:34px;
  height:34px;
  border-radius:14px;
  border:1px solid var(--line);
  background:var(--surface2);
  color:var(--text);
  font-size:22px;
  line-height:1;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:background 100ms;
}
.calNavBtn:hover{
  background:rgba(255,255,255,.1);
}

.calMonthLabel{
  font-weight:750;
  font-size:15px;
}

.calWeekHeader{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  text-align:center;
  font-size:11px;
  color:var(--muted);
  font-weight:700;
  margin-bottom:4px;
  letter-spacing:.04em;
}

.calGrid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:2px;
}

.calCell{
  aspect-ratio:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:4px 2px 2px;
  border-radius:8px;
  cursor:pointer;
  font-size:13px;
  transition:background 100ms;
}
.calCell:hover{
  background:rgba(255,255,255,.07);
}
.calCell.otherMonth{
  opacity:.28;
}
.calCell.today .calDayNum{
  background:var(--accent);
  color:#fff;
  border-radius:50%;
  width:22px;
  height:22px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.calCell.selected{
  background:rgba(124,106,247,.25);
  outline:1px solid rgba(124,106,247,.5);
}

.calDayNum{
  font-size:13px;
  line-height:1;
}

.calEventDots{
  display:flex;
  gap:2px;
  flex-wrap:wrap;
  justify-content:center;
  margin-top:2px;
}

.calEventDot{
  width:5px;
  height:5px;
  border-radius:50%;
  flex-shrink:0;
}

.calEvents{
  margin-top:14px;
  display:grid;
  gap:6px;
}

.calEvent{
  padding:8px 10px;
  border-radius:12px;
  background:var(--surface2);
  border-left:3px solid var(--calColor, #58b4ff);
  font-size:13px;
}

.calEventTitle{
  font-weight:700;
}

.calEventMeta{
  margin-top:2px;
}

.calNoEvents{
  padding:8px 0;
}

.tr:nth-child(even){
  background:rgba(255,255,255,.04);
}

.tr:last-child .td{
  border-bottom:none;
}

.td small{
  color:var(--muted);
  font-size:12px;
}

.tr.note{
  background:rgba(255,165,0,.10);
  border-left:3px solid #ffa500;
}

.tr.current{
  background:rgba(0,122,255,.16);
  box-shadow:inset 3px 0 0 var(--accent);
}

[data-theme="light"] .tr.current{
  background:rgba(0,122,255,.12);
}

.weekCell.note{
  background:rgba(255,165,0,.12);
  border-left:2px solid rgba(255,165,0,.70);
}

.weekCell.current{
  background:rgba(0,122,255,.14);
  box-shadow:inset 3px 0 0 var(--accent);
}

.weekHeader .weekCell.weekDayToday{
  color:var(--text);
  background:rgba(0,122,255,.14);
}

[data-theme="light"] .weekCell.current,
[data-theme="light"] .weekHeader .weekCell.weekDayToday{
  background:rgba(0,122,255,.1);
}

/* Week Grid */
.weekGrid{
  margin-top:16px;
  border-radius:var(--radius2);
  overflow:auto;
  border:1px solid var(--line);
}

.weekKwBadge{font-size:.7em;font-weight:500;color:var(--muted);vertical-align:middle;}

/* weekTable ist der einzige Grid-Container → alle Zeilen teilen dieselbe Spaltenbreite */
.weekTable{
  min-width:520px;
  display:grid;
  grid-template-columns:max-content repeat(5,minmax(0,1fr));
}

/* Zeilen werden unsichtbar – ihre Kinder landen direkt im Grid */
.weekRow{
  display:contents;
}

.weekCell{
  padding:10px 12px;
  border-bottom:1px solid var(--line);
  border-right:1px solid var(--line);
  overflow:hidden;
  min-width:0;
  vertical-align:top;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}

.weekRow .weekCell:last-child{
  border-right:none;
}

/* Leere Zellen – kein Inhalt, nur dezenter Platzhalter */
.weekCell.weekEmpty{
  background:transparent;
}

/* Header-Zellen: jede einzeln sticky-top, da weekHeader display:contents */
.weekHeader .weekCell{
  position:sticky;
  top:0;
  z-index:3;
  background:var(--surface2);
  font-size:11px;
  font-weight:700;
  letter-spacing:.07em;
  text-transform:uppercase;
  color:var(--muted);
  padding:9px 12px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-bottom:1px solid var(--line);
}

/* Eck-Zelle: scrollt mit Grid */
.weekCorner{
  justify-content:flex-start !important;
  color:var(--muted);
  font-size:10px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:.06em;
}

/* Stunden-Spalte: nicht fixiert, scrollt mit dem Grid */
.weekSlot{
  border-right:1px solid var(--line) !important;
  padding:10px 12px;
}

/* Zeitanzeige in der Slot-Spalte */
.weekTimeRange{
  font-size:13px;
  font-weight:700;
  line-height:1.2;
  color:var(--text);
  letter-spacing:-.1px;
}

.weekTimeEnd{
  font-size:11px;
  color:var(--muted);
  margin-top:1px;
  line-height:1.2;
}

.weekSlotLabel{
  font-size:10px;
  color:var(--muted);
  margin-top:4px;
  font-weight:500;
  letter-spacing:.03em;
}

/* Fach */
.weekSubject{
  font-weight:700;
  font-size:13px;
  line-height:1.3;
  overflow-wrap:break-word;
  word-break:break-word;
  hyphens:auto;
  color:var(--text);
  margin:auto 0;
}

/* Lehrer / Raum */
.weekMeta{
  font-size:11px;
  margin-top:4px;
  color:var(--muted);
  line-height:1.4;
}

.weekMetaTop{
  margin-top:0;
}

.weekMetaBottom{
  margin-top:auto;
}

/* Light-Mode-Overrides */
[data-theme="light"] .weekHeader .weekCell{
  background:rgba(0,0,0,.055);
}

/* Link Cards */
.linkCards{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:12px;
}

.linkCard{
  display:block;
  padding:14px;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  text-decoration:none;
  transition:all 120ms ease;
}

.linkCard:hover{
  border-color:rgba(0,122,255,.45);
  background:rgba(0,122,255,.08);
  transform:translateY(-1px);
}

.linkCard.disabled{
  opacity:.6;
  cursor:not-allowed;
}

.linkTitle{
  font-weight:800;
  font-size:15px;
}

.linkUrl{
  color:var(--muted);
  margin-top:6px;
  font-size:12px;
}

.linkCardBig{
  display:flex;
  align-items:center;
  gap:14px;
  padding:16px 18px;
  border-radius:22px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  text-decoration:none;
  transition:all 140ms ease;
}

.linkCardBig:hover{
  border-color:rgba(0,122,255,.5);
  background:rgba(0,122,255,.1);
  transform:translateY(-2px);
  box-shadow:0 4px 16px rgba(0,122,255,.18);
}

.linkCardIcon{
  width:28px;
  height:28px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex-shrink:0;
  color:var(--accent);
}

.linkCardBody{
  flex:1;
  min-width:0;
}

.linkCardArrow{
  font-size:18px;
  color:var(--muted);
  flex-shrink:0;
  transition:transform 140ms ease;
}

.linkCardBig:hover .linkCardArrow{
  transform:translate(2px,-2px);
  color:var(--accent);
}

/* Instagram Profiles */
.igProfiles{
  display:grid;
  grid-template-columns:1fr;
  gap:14px;
  margin-top:14px;
}

.igProfile{
  display:block;
  padding:16px;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  color:var(--text);
  text-decoration:none;
  transition:all 150ms ease;
}

.igProfile:hover{
  border-color:rgba(225,48,108,.4);
  background:rgba(225,48,108,.06);
  transform:translateY(-1px);
}

.igProfileHeader{
  display:flex;
  align-items:center;
  gap:14px;
}

.igAvatarRing{
  flex-shrink:0;
  width:64px;
  height:64px;
  border-radius:50%;
  padding:3px;
  background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);
}

.igAvatar{
  width:100%;
  height:100%;
  border-radius:50%;
  object-fit:cover;
  background:var(--bg0);
  border:2px solid var(--bg0);
}

.igProfileInfo{
  flex:1;
  min-width:0;
}

.igName{
  font-weight:800;
  font-size:15px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.igHandle{
  color:var(--muted);
  font-size:13px;
  margin-top:2px;
}

.igFollowers{
  font-size:12px;
  color:var(--muted);
  margin-top:2px;
}

.igFollowers:empty{
  display:none;
}

.igPreviewGrid{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:3px;
  margin-top:12px;
  border-radius:8px;
  overflow:hidden;
}

.igPreviewPlaceholder{
  aspect-ratio:1;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.04);
}

.igPreviewImg{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.igOpenLabel{
  display:block;
  margin-top:12px;
  text-align:center;
  font-size:13px;
  font-weight:600;
  color:var(--accent);
}

[data-theme="light"] .igPreviewPlaceholder{
  background:rgba(0,0,0,.04);
  border-color:rgba(0,0,0,.06);
}

[data-theme="light"] .igProfile{
  background:rgba(0,0,0,.02);
}

/* Footer */
.footer{
  margin-top:14px;
  padding:0 2px;
  display:flex;
  gap:10px;
  justify-content:space-between;
  flex-wrap:wrap;
}

.small{
  font-size:12px;
}

/* Responsive Design */
@media (min-width:740px){
  .hero{
    grid-template-columns:1.1fr .9fr;
    align-items:stretch;
  }

  .grid2{
    grid-template-columns:1fr 1fr;
  }

  .nav{
    top:72px;
  }

  .linkCards{
    grid-template-columns:1fr 1fr;
  }

  .igProfiles{
    grid-template-columns:1fr 1fr;
  }
}

/* Mobile Bottom Navigation – Apple Glass Floating Pill */
@media (max-width:739px){
  .nav{
    position:fixed;
    top:auto;
    bottom:calc(16px + env(safe-area-inset-bottom));
    left:16px;
    right:16px;
    z-index:100;
    border-radius:28px;
    padding:8px;
    background:rgba(10,14,26,.82);
    backdrop-filter:blur(48px) saturate(200%);
    -webkit-backdrop-filter:blur(48px) saturate(200%);
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 12px 40px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.15);
    gap:4px;
  }

  /* navItem-Glaseffekte im Pill-Nav entfernen */
  .navItem,
  .navItem[aria-current="page"]{
    background:transparent !important;
    border:none !important;
    box-shadow:none !important;
    backdrop-filter:none !important;
    -webkit-backdrop-filter:none !important;
    border-radius:20px;
    padding:9px 6px 8px;
    font-size:12px;
    gap:4px;
    position:relative;
  }

  /* Aktiver Tab: gefülltes Pill-Highlight */
  .navItem[aria-current="page"]{
    background:rgba(0,122,255,.22) !important;
  }

  /* Aktiv-Indikator: kleiner Punkt oben */
  .navItem[aria-current="page"]::after{
    content:'';
    position:absolute;
    top:3px;
    left:50%;
    transform:translateX(-50%);
    width:16px;
    height:2px;
    background:var(--accent);
    border-radius:2px;
  }

  /* Mehr Platz für die schwebende Pill */
  .main{
    padding-bottom:calc(96px + env(safe-area-inset-bottom));
  }

  [data-theme="light"] .nav{
    background:rgba(255,255,255,.76);
    border-color:rgba(0,0,0,.09);
    box-shadow:0 10px 40px rgba(10,30,100,.18), inset 0 1px 0 rgba(255,255,255,.9);
  }

  .installHead{
    flex-direction:column;
    align-items:flex-start;
  }

  .installCtaRow .btn{
    width:100%;
  }

  [data-theme="light"] .navItem[aria-current="page"]{
    background:rgba(0,122,255,.14) !important;
  }
}

@media (max-width:360px){
  .timetableHeader,
  .tr{
    grid-template-columns:80px 1fr auto auto;
  }
  
  .brandTitle{
    font-size:14px;
  }
  
  .dayBtn{
    padding:8px 12px;
    min-width:44px;
  }
}

/* Print Styles */
@media print{
  .topbar,
  .nav,
  .installBanner,
  .footer{
    display:none;
  }
  
  .main{
    max-width:100%;
  }
  
  .surface{
    box-shadow:none;
    border:1px solid #ccc;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion:reduce){
  *,
  *::before,
  *::after{
    animation-duration:0.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:0.01ms !important;
    scroll-behavior:auto !important;
  }
}

/* Dark Mode Enhancement */
@media (prefers-color-scheme:dark){
  /* Zusätzliche Anpassungen für Systeme mit Dark Mode Präferenz */
  :root:not([data-theme="light"]){
    color-scheme:dark;
  }
}

/* High Contrast Mode */
@media (prefers-contrast:high){
  .surface{
    border-width:2px;
  }
  
  .btn{
    border-width:2px;
  }
}


.classPhotoCard{
  cursor:default;
}

.classPhotoCard:hover{
  border-color:var(--line);
  background:rgba(255,255,255,.04);
  transform:none;
}

.classPhotoRing{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
}
